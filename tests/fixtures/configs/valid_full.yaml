# Full configuration with all options specified
server:
  host: "0.0.0.0"
  port: 8080
  workers: 4
  request_timeout_secs: 60

puppetdb:
  url: "https://puppetdb.example.com:8081"
  timeout_secs: 45
  ssl_verify: true
  ssl_cert: "/etc/ssl/client.pem"
  ssl_key: "/etc/ssl/client.key"
  ssl_ca: "/etc/ssl/ca.pem"

puppet_ca:
  url: "https://puppet.example.com:8140"
  timeout_secs: 30
  ssl_verify: true
  ssl_cert: "/etc/ssl/ca_client.pem"
  ssl_key: "/etc/ssl/ca_client.key"
  ssl_ca: "/etc/ssl/ca.pem"

auth:
  jwt_secret: "super-secure-jwt-secret-for-testing-purposes-minimum-32-chars"
  token_expiry_hours: 12
  refresh_token_expiry_days: 14
  bcrypt_cost: 10
  password_min_length: 12

database:
  url: "sqlite://./data/test.db"
  max_connections: 20
  min_connections: 2
  connect_timeout_secs: 15
  idle_timeout_secs: 300

logging:
  level: "debug"
  format: "json"
  file: "/var/log/openvox-webui/test.log"

cache:
  enabled: true
  node_ttl_secs: 600
  fact_ttl_secs: 600
  report_ttl_secs: 120
  resource_ttl_secs: 900
  catalog_ttl_secs: 900
  max_entries: 5000
  sync_interval_secs: 300

dashboard:
  default_time_range: "7d"
  refresh_interval_secs: 120
  nodes_per_page: 100
  reports_per_page: 50
  show_inactive_nodes: false
  inactive_threshold_hours: 48
  theme: "dark"
  widgets:
    - id: "node-status-main"
      type: "node_status"
      title: "Infrastructure Status"
      enabled: true
      position:
        row: 0
        col: 0
        width: 12
        height: 3
    - id: "recent-activity"
      type: "recent_activity"
      title: "Recent Changes"
      enabled: true
      position:
        row: 3
        col: 0
        width: 6
        height: 4
    - id: "fact-distribution"
      type: "fact_distribution"
      title: "OS Distribution"
      enabled: true
      position:
        row: 3
        col: 6
        width: 6
        height: 4

rbac:
  default_role: "operator"
  session_timeout_minutes: 240
  max_failed_logins: 3
  lockout_duration_minutes: 60
  roles:
    - name: "developer"
      display_name: "Developer"
      description: "Read-only access with facter template management"
      is_system: false
      permissions:
        - resource: "nodes"
          action: "read"
          scope: "all"
        - resource: "reports"
          action: "read"
          scope: "all"
        - resource: "facts"
          action: "read"
          scope: "all"
        - resource: "facter_templates"
          action: "admin"
          scope: "all"
    - name: "production_admin"
      display_name: "Production Admin"
      description: "Full access to production environment"
      permissions:
        - resource: "nodes"
          action: "admin"
          scope: "environment"
          scope_value: "production"
        - resource: "groups"
          action: "admin"
          scope: "environment"
          scope_value: "production"
        - resource: "reports"
          action: "read"
          scope: "environment"
          scope_value: "production"

groups_config_path: "./config/groups.yaml"
